# ============================================================================
# STF AI Diagnosis Platform - Local Environment Configuration
# Author: Li-Ta Hsu
# Date: January 2026
# ============================================================================
# Copy this file to .env and fill in actual values
# NEVER commit the real .env file to version control
# ============================================================================

# ----------------------------------------------------------------------------
# Network Configuration (Local-Only)
# ----------------------------------------------------------------------------
BIND_HOST=127.0.0.1
DIFY_WEB_PORT=3000
DIFY_API_PORT=5001
DIAGNOSTIC_API_PORT=8000
WEAVIATE_PORT=8080

# ----------------------------------------------------------------------------
# Postgres Configuration
# ----------------------------------------------------------------------------
POSTGRES_VERSION=15.6-alpine
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=dify
POSTGRES_USER=dify_user
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE

APP_DB_NAME=stf_diagnosis
APP_DB_USER=stf_app_user
APP_DB_PASSWORD=CHANGE_ME_APP_PASSWORD_HERE

# ----------------------------------------------------------------------------
# Redis Configuration
# ----------------------------------------------------------------------------
REDIS_VERSION=7.2.4-alpine
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD_HERE

# ----------------------------------------------------------------------------
# Weaviate Configuration
# ----------------------------------------------------------------------------
WEAVIATE_VERSION=1.24.1
WEAVIATE_HOST=weaviate
WEAVIATE_PORT=8080
WEAVIATE_GRPC_PORT=50051
WEAVIATE_AUTHENTICATION_ANONYMOUS_ACCESS_ENABLED=false
WEAVIATE_AUTHENTICATION_APIKEY_ENABLED=true
WEAVIATE_AUTHENTICATION_APIKEY_ALLOWED_KEYS=CHANGE_ME_WEAVIATE_API_KEY_HERE
WEAVIATE_AUTHENTICATION_APIKEY_USERS=admin
WEAVIATE_PERSISTENCE_DATA_PATH=/var/lib/weaviate
WEAVIATE_DEFAULT_VECTORIZER_MODULE=none
WEAVIATE_CLUSTER_HOSTNAME=node1

# ----------------------------------------------------------------------------
# Ollama Configuration
# ----------------------------------------------------------------------------
OLLAMA_VERSION=0.1.26
OLLAMA_HOST=ollama
OLLAMA_PORT=11434
OLLAMA_BASE_URL=http://ollama:11434
OLLAMA_DEFAULT_MODEL=llama3:8b
EMBEDDING_MODEL=nomic-embed-text

# ----------------------------------------------------------------------------
# Dify Configuration
# ----------------------------------------------------------------------------
DIFY_VERSION=0.6.13
DIFY_SECRET_KEY=CHANGE_ME_DIFY_SECRET_KEY_HERE
DIFY_API_HOST=dify-api
DIFY_API_PORT=5001
DIFY_CONSOLE_API_URL=http://dify-api:5001
DIFY_SERVICE_API_URL=http://dify-api:5001
DIFY_WEB_HOST=dify-web
DIFY_WEB_PORT=3000
DIFY_CELERY_BROKER_URL=redis://:${REDIS_PASSWORD}@redis:6379/1
DIFY_STORAGE_TYPE=local
DIFY_STORAGE_LOCAL_PATH=/app/storage
DIFY_VECTOR_STORE=weaviate
DIFY_WEAVIATE_ENDPOINT=http://weaviate:8080
DIFY_WEAVIATE_API_KEY=${WEAVIATE_AUTHENTICATION_APIKEY_ALLOWED_KEYS}
DIFY_EDITION=SELF_HOSTED
DIFY_DEPLOY_ENV=PRODUCTION
DIFY_SSRF_PROXY_HTTP_URL=http://ssrf-proxy:3128

# ----------------------------------------------------------------------------
# Diagnostic API Configuration
# ----------------------------------------------------------------------------
DIAGNOSTIC_API_HOST=diagnostic-api
DIAGNOSTIC_API_PORT=8000
DIAGNOSTIC_API_VERSION=0.1.0
DIAGNOSTIC_API_LOG_LEVEL=INFO
DIAGNOSTIC_API_LOG_FORMAT=json
